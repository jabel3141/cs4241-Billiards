 <html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link id="css" rel="stylesheet" type="text/css" href="style.css"/>

    <style>
      .btn {width: 100%;}

      h1 {color: white;}

      #main {margin-left: 15px;}

      .drill {width: 15%;}

      #rightSide {right: 0;}

      .affix {top: 20;}
      
      td, th {text-align: center;}
    </style>

  </head>
  <body>

    <div>
      <div class="page-header">
        <h1>Billiards Exam - Skills</h1>      
      </div>     
    </div>

    <div id="main">

      <div id="header" class="row">
        <div class="col-sm-7"> <!-- Exam Table -->
          <div id="s1" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S1-Line</td>
                    <td>
                       <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Attempt</th>
                            <th>1</th>
                            <th>2</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th>Balls Pocketed</th>
                            <td id="r1_1">0</td>
                            <td id="r1_2">0</td>

                          </tr>

                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s2" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S2-Rail Cut</td>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Attempt</th>
                            <th>1</th>
                            <th>2</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th>Balls Pocketed</th>
                            <td id="r2_1">0</td>
                            <td id="r2_2">0</td>

                          </tr>

                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s3" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S3-9 Ball</td>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Attempt</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th>Balls Pocketed</th>
                            <td id="r3_1">0</td>
                            <td id="r3_2">0</td>
                            <td id="r3_3">0</td>

                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s6" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S4-8 Ball</td>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>Attempt</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th>Balls Pocketed</th>
                            <td id="r4_1">0</td>
                            <td id="r4_2">0</td>
                            <td id="r4_3">0</td>

                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s9" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S5-Saftey</td>
                    <td>
                      Table Goes Here
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s10" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S6-Kicks</td>
                    <td>
                      Table Goes Here
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s11" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S7-Banks</td>
                    <td>
                      Table Goes Here
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s12" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S8-Elevated Cue</td>
                    <td>
                      Table Goes Here
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s13" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S9-Jump/Mass&eacute</td>
                    <td>
                      Table Goes Here
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="s14" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>S10-Breaks</td>
                    <td>
                      Table Goes Here
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>
        <div id="rightSide" class="col-sm-5 text-center" data-spy="affix" data-offset-top="100">
          <!-- Exam Setup Image -->
          <img id="examImg" src="img/exam_2/s1.jpg" class="img-rounded examImages" alt="Exam Setup Image" height="95%" onclick="toggleImg()">
        </div>
      </div>
    </div>
    

  </body>
  <script>
    var imageNames = ["s1", "s2", "s3", "s4", "s5", "s6", "s7", "s8", "s9", "s10", "s11", "s12", "s13", "s14"]
    var image = "s1"
    var toggleS3 = 2;
    var toggleS4 = 5;

    var currBox = ""
    var total = 4
    var user = ""
    var drillScores = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

    var s1_resultBox = [{"box":"r1_1", "result":"0"}, {"box":"r1_2", "result":"0"}]

    var s2_resultBox = [{"box":"r2_1", "result":"0"}, {"box":"r2_2", "result":"0"}]

    var s3_resultBox = [{"box":"r3_1", "result":"0"}, {"box":"r3_2", "result":"0"}, {"box":"r3_3", "result":"0"}]

    var s4_resultBox = [{"box":"r4_1", "result":"0"}, {"box":"r4_2", "result":"0"}, {"box":"r4_3", "result":"0"}]

    document.getElementById("rightSide").addEventListener("click", toggleImg());

    for(var i = 0; i < imageNames.length; i++){
      if((i > 2 && i < 5) || (i > 5 && i < 8)){

      }

      else {
        document.getElementById(imageNames[i]).addEventListener("mouseenter", function(){
          image = this.id;
          if(image == "s3" || image == "s4" || image == "s5"){
            image = imageNames[toggleS3];
          }
          else if(image == "s6" || image == "s7" || image == "s8"){
            image = imageNames[toggleS4];
          }
          showSetup();
        });
      }
    }

    for(var i = 0; i < s1_resultBox.length; i++){
      document.getElementById(s1_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail1();
      });
    }

    for(var i = 0; i < s2_resultBox.length; i++){
      document.getElementById(s2_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail2();
      });
    }

    for(var i = 0; i < s3_resultBox.length; i++){
      document.getElementById(s3_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail3();
      });
    }

    for(var i = 0; i < s4_resultBox.length; i++){
      document.getElementById(s4_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail4();
      });
    }

    function successFail1(){
      var boxIndex = parseInt(currBox.replace("r1_", "")) - 1;
      var score = parseInt(s1_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 4){
        score = 0;
      }
      s1_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal1();
    }

    function calcTotal1(){
      total = 0;
      attempt1 = parseInt(s1_resultBox[0].result);
      attempt2 = parseInt(s1_resultBox[1].result)

      if(attempt1 > attempt2){
        total = attempt1;
      }

      else {
        total = attempt2;
      }
      drillScores[0] = total;
    }

    function successFail2(){
      var boxIndex = parseInt(currBox.replace("r2_", "")) - 1;
      var score = parseInt(s2_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 7){
        score = 0;
      }
      s2_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal2();
    }

    function calcTotal2(){
      total = 0;
      attempt1 = parseInt(s2_resultBox[0].result);
      attempt2 = parseInt(s2_resultBox[1].result)

      if(attempt1 > attempt2){
        total = attempt1;
      }

      else {
        total = attempt2;
      }
      drillScores[1] = total;
    }

    function successFail3(){
      var boxIndex = parseInt(currBox.replace("r3_", "")) - 1;
      var score = parseInt(s3_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 5){
        score = 0;
      }
      s3_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal3();
    }

    function calcTotal3(){
      total = 0;
      layout1 = parseInt(s3_resultBox[0].result);
      layout2 = parseInt(s3_resultBox[1].result);
      layout3 = parseInt(s3_resultBox[2].result);

      if(layout1 < layout2){
        total = total + layout1
        if(layout2 < layout3){
          total = total + layout2
        }
        else{
          total = total + layout3
        }
      }

      else {
        total = total + layout2
        if(layout1 < layout3){
          total = total + layout1
        }
        else{
          total = total + layout3
        }
      }

      drillScores[2] = total;
      console.log(drillScores[2]);
    }

    function successFail4(){
      var boxIndex = parseInt(currBox.replace("r4_", "")) - 1;
      var score = parseInt(s3_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 5){
        score = 0;
      }
      s3_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal4();
    }

    function calcTotal4(){
      total = 0;
      layout1 = parseInt(s3_resultBox[0].result);
      layout2 = parseInt(s3_resultBox[1].result);
      layout3 = parseInt(s3_resultBox[2].result);

      if(layout1 < layout2){
        total = total + layout1
        if(layout2 < layout3){
          total = total + layout2
        }
        else{
          total = total + layout3
        }
      }

      else {
        total = total + layout2
        if(layout1 < layout3){
          total = total + layout1
        }
        else{
          total = total + layout3
        }
      }

      drillScores[3] = total;
      console.log(drillScores[3]);
    }
    
    function showSetup(){
      document.getElementById("examImg").src = "img/exam_2/" + image + ".jpg";
    }

    function toggleImg(){
      if(image == "s3" || image == "s4" || image == "s5"){
        toggleS3 = toggleS3 + 1;
        if(toggleS3 > 4){
          toggleS3 = 2;
        }
        image = imageNames[toggleS3]
      }
      else if(image == "s6" || image == "s7" || image == "s8"){
        toggleS4 = toggleS4 + 1;
        if(toggleS4 > 7){
          toggleS4 = 5;
        }
        image = imageNames[toggleS4]
      }
      showSetup();
    }

  </script>
</html>