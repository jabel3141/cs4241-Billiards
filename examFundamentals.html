 <html>
  <head>
    <title>CSC Billiard Analytics - Exam I</title>
    <link rel="shortcut icon" type="image/x-icon" href="img/home/favicon.ico" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Verdana" rel="stylesheet">
    <link id="css" rel="stylesheet" type="text/css" href="style.css"/>

    <style>
      .btn {width: 100%;}

      .table {table-layout: fixed}

      h1 {color: white;}

      #main {margin-left: 15px;}

      .drill {width: 15%;}

      #rightSide {right: 0;}

      .affix {top: 20;}

      td, th {text-align: center;}

      .modButton {width: 45%; display: inline-block; float: left;}

      .ldt {width: 15%;}

      .well {
        box-shadow: 6px 6px 2px black;
      }

    </style>

  </head>
  <body>

    <div>
      <div class="page-header">
        <h1 id="headingText">Billiards Exam - Fundamentals</h1>
      </div>
    </div>

    <div class="alert alert-warning">
      <strong>Notice! </strong>We've removed spaces from usernames as this caused issues with exam submissions and profile viewing. Your pin number has not been affected.
    </div>

    <div id="main">

      <div class="row">
        <div class="col-sm-3">
          <form action="examSubmit" method="POST" onsubmit="return false">
            <input id="username" type="text" name="title" class="form-control" placeholder="Username" onkeyup="nameUpdate()" onblur="nameUpdate()"/>
            <button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#alertModal">Submit Exam</button>
          </form>
        </div>
      </div>

      <div id="errorMessage">
      </div>

      <div id="alertModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Confirm Submit</h4>
            </div>
            <div class="modal-body">
              <p>Are you sure you want to submit the exam?</p>
              <p>Please enter your 4-digit pin to confirm
              <input id="pin" type="password" maxlength="4" name="pinNum" class="form-control" placeholder="Pin" onkeyup="checkSubmit()"/></p>
              <p>Don't have an account? <a href="signUp.html" target="_blank">Sign Up</a></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-warning modButton" data-dismiss="modal"><b>No</b>, not yet!</button>
              <button type="button" id="confButton" class="btn btn-success modButton" data-dismiss="modal" disabled  onclick="submitExam()"><b>Yes</b>, submit the exam.</button>
              
            </div>
          </div>

        </div>
      </div>

      <div class="row">
        <div class="col-sm-12">
          <p></p>
        </div>
      </div>

      <div id="header" class="row">
        <div class="col-sm-7"> <!-- Exam Table -->
          <div id="F1" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F1 - Cut</th>
                    <td>
                       <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r1_1"></td>
                            <td id="r1_2"></td>
                            <td id="r1_3"></td>
                            <td id="r1_4"></td>
                            <td id="r1_5"></td>
                            <td id="r1_6"></td>
                            <td id="r1_7"></td>
                            <td id="r1_8"></td>
                            <td id="r1_9"></td>
                            <td id="r1_10"></td>
                          </tr>
                          <tr>
                            <th class="ldt">Position</th>
                            <td id="p1_1">4</td>
                            <td id="p1_2"></td>
                            <td id="p1_3"></td>
                            <td id="p1_4"></td>
                            <td id="p1_5"></td>
                            <td id="p1_6"></td>
                            <td id="p1_7"></td>
                            <td id="p1_8"></td>
                            <td id="p1_9"></td>
                            <td id="p1_10"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="F2" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F2 - Stop</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r2_1"></td>
                            <td id="r2_2"></td>
                            <td id="r2_3"></td>
                            <td id="r2_4"></td>
                            <td id="r2_5"></td>
                            <td id="r2_6"></td>
                            <td id="r2_7"></td>
                            <td id="r2_8"></td>
                            <td id="r2_9"></td>
                            <td id="r2_10"></td>
                          </tr>
                          <tr>
                            <th class="ldt">Position</th>
                            <td id="p2_1">4</td>
                            <td id="p2_2"></td>
                            <td id="p2_3"></td>
                            <td id="p2_4"></td>
                            <td id="p2_5"></td>
                            <td id="p2_6"></td>
                            <td id="p2_7"></td>
                            <td id="p2_8"></td>
                            <td id="p2_9"></td>
                            <td id="p2_10"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="F3" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F3 - Follow</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r3_1"></td>
                            <td id="r3_2"></td>
                            <td id="r3_3"></td>
                            <td id="r3_4"></td>
                            <td id="r3_5"></td>
                            <td id="r3_6"></td>
                            <td id="r3_7"></td>
                            <td id="r3_8"></td>
                            <td id="r3_9"></td>
                            <td id="r3_10"></td>
                          </tr>
                          <tr>
                            <th class="ldt">Position</th>
                            <td id="p3_1">4</td>
                            <td id="p3_2"></td>
                            <td id="p3_3"></td>
                            <td id="p3_4"></td>
                            <td id="p3_5"></td>
                            <td id="p3_6"></td>
                            <td id="p3_7"></td>
                            <td id="p3_8"></td>
                            <td id="p3_9"></td>
                            <td id="p3_10"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="F4" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F4 - Draw</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r4_1"></td>
                            <td id="r4_2"></td>
                            <td id="r4_3"></td>
                            <td id="r4_4"></td>
                            <td id="r4_5"></td>
                            <td id="r4_6"></td>
                            <td id="r4_7"></td>
                            <td id="r4_8"></td>
                            <td id="r4_9"></td>
                            <td id="r4_10"></td>
                          </tr>
                          <tr>
                            <th class="ldt">Position</th>
                            <td id="p4_1">4</td>
                            <td id="p4_2"></td>
                            <td id="p4_3"></td>
                            <td id="p4_4"></td>
                            <td id="p4_5"></td>
                            <td id="p4_6"></td>
                            <td id="p4_7"></td>
                            <td id="p4_8"></td>
                            <td id="p4_9"></td>
                            <td id="p4_10"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="F5" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F5 - Stun</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r5_1"></td>
                            <td id="r5_2"></td>
                            <td id="r5_3"></td>
                            <td id="r5_4"></td>
                            <td id="r5_5"></td>
                            <td id="r5_6"></td>
                            <td id="r5_7"></td>
                            <td id="r5_8"></td>
                            <td id="r5_9"></td>
                            <td id="r5_10"></td>
                          </tr>
                          <tr>
                            <th class="ldt">Position</th>
                            <td id="p5_1">4</td>
                            <td id="p5_2"></td>
                            <td id="p5_3"></td>
                            <td id="p5_4"></td>
                            <td id="p5_5"></td>
                            <td id="p5_6"></td>
                            <td id="p5_7"></td>
                            <td id="p5_8"></td>
                            <td id="p5_9"></td>
                            <td id="p5_10"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="F6" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F6 - Ball Pocketing</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r6_1"></td>
                            <td id="r6_2"></td>
                            <td id="r6_3"></td>
                            <td id="r6_4"></td>
                            <td id="r6_5"></td>
                            <td id="r6_6"></td>
                            <td id="r6_7"></td>
                            <td id="r6_8"></td>
                            <td id="r6_9"></td>
                            <td id="r6_10"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="F7" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F7 - Wagon Wheel</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th colspan="2">1</th>
                            <th colspan="2">2</th>
                            <th colspan="2">3</th>
                            <th colspan="2">4</th>
                            <th colspan="2">5</th>
                            <th colspan="2">6</th>
                            <th colspan="2">7</th>
                            <th colspan="2">8</th>
                            <th colspan="2">9</th>
                            <th colspan="2">10</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r7_1"></td>
                            <td id="r7_2"></td>
                            <td id="r7_3"></td>
                            <td id="r7_4"></td>
                            <td id="r7_5"></td>
                            <td id="r7_6"></td>
                            <td id="r7_7"></td>
                            <td id="r7_8"></td>
                            <td id="r7_9"></td>
                            <td id="r7_10"></td>
                            <td id="r7_11"></td>
                            <td id="r7_12"></td>
                            <td id="r7_13"></td>
                            <td id="r7_14"></td>
                            <td id="r7_15"></td>
                            <td id="r7_16"></td>
                            <td id="r7_17"></td>
                            <td id="r7_18"></td>
                            <td id="r7_19"></td>
                            <td id="r7_20"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="F8" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>F8 - Targets</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th colspan="4">1</th>
                            <th colspan="4">2</th>
                            <th colspan="4">3</th>
                            <th colspan="4">4</th>
                            <th colspan="4">5</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r8_1"></td>
                            <td id="r8_2"></td>
                            <td id="r8_3"></td>
                            <td id="r8_4"></td>
                            <td id="r8_5"></td>
                            <td id="r8_6"></td>
                            <td id="r8_7"></td>
                            <td id="r8_8"></td>
                            <td id="r8_9"></td>
                            <td id="r8_10"></td>
                            <td id="r8_11"></td>
                            <td id="r8_12"></td>
                            <td id="r8_13"></td>
                            <td id="r8_14"></td>
                            <td id="r8_15"></td>
                            <td id="r8_16"></td>
                            <td id="r8_17"></td>
                            <td id="r8_18"></td>
                            <td id="r8_19"></td>
                            <td id="r8_20"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>
        <div id="rightSide" class="col-sm-5 text-center" data-spy="affix" data-offset-top="170">
          <!-- Exam Setup Image -->
          <img id="examImg" src="img/exam1/F1.jpg" class="img-rounded examImages" alt="Exam Setup Image" height="95%" >
        </div>
      </div>
    </div>


  </body>
  <script>
    var imageNames = ["F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8"]
    var image = "F1"
    var currBox = ""
    var total = 4
    var user = ""
    var drillScores = [0, 0, 0, 0, 0, 0, 0, 0]

    var checkMark = "&#10004"
    var xMark = "&#10006"

    var f1_resultBox = [{"box":"r1_1", "result":""}, {"box":"r1_2", "result":""}, {"box":"r1_3", "result":""}, {"box":"r1_4", "result":""}, {"box":"r1_5", "result":""}, {"box":"r1_6", "result":""}, {"box":"r1_7", "result":""}, {"box":"r1_8", "result":""}, {"box":"r1_9", "result": ""}, {"box":"r1_10", "result":""}]
    var f1_posBox = [{"box":"p1_1", "result":"4"}, {"box":"p1_2", "result":""}, {"box":"p1_3", "result":""}, {"box":"p1_4", "result":""}, {"box":"p1_5", "result":""}, {"box":"p1_6", "result":""}, {"box":"p1_7", "result":""}, {"box":"p1_8", "result":""}, {"box":"p1_9", "result": ""}, {"box":"p1_10", "result":""}]

    var f2_resultBox = [{"box":"r2_1", "result":""}, {"box":"r2_2", "result":""}, {"box":"r2_3", "result":""}, {"box":"r2_4", "result":""}, {"box":"r2_5", "result":""}, {"box":"r2_6", "result":""}, {"box":"r2_7", "result":""}, {"box":"r2_8", "result":""}, {"box":"r2_9", "result": ""}, {"box":"r2_10", "result":""}]
    var f2_posBox = [{"box":"p2_1", "result":"4"}, {"box":"p2_2", "result":""}, {"box":"p2_3", "result":""}, {"box":"p2_4", "result":""}, {"box":"p2_5", "result":""}, {"box":"p2_6", "result":""}, {"box":"p2_7", "result":""}, {"box":"p2_8", "result":""}, {"box":"p2_9", "result": ""}, {"box":"p2_10", "result":""}]

    var f3_resultBox = [{"box":"r3_1", "result":""}, {"box":"r3_2", "result":""}, {"box":"r3_3", "result":""}, {"box":"r3_4", "result":""}, {"box":"r3_5", "result":""}, {"box":"r3_6", "result":""}, {"box":"r3_7", "result":""}, {"box":"r3_8", "result":""}, {"box":"r3_9", "result": ""}, {"box":"r3_10", "result":""}]
    var f3_posBox = [{"box":"p3_1", "result":"4"}, {"box":"p3_2", "result":""}, {"box":"p3_3", "result":""}, {"box":"p3_4", "result":""}, {"box":"p3_5", "result":""}, {"box":"p3_6", "result":""}, {"box":"p3_7", "result":""}, {"box":"p3_8", "result":""}, {"box":"p3_9", "result": ""}, {"box":"p3_10", "result":""}]

    var f4_resultBox = [{"box":"r4_1", "result":""}, {"box":"r4_2", "result":""}, {"box":"r4_3", "result":""}, {"box":"r4_4", "result":""}, {"box":"r4_5", "result":""}, {"box":"r4_6", "result":""}, {"box":"r4_7", "result":""}, {"box":"r4_8", "result":""}, {"box":"r4_9", "result": ""}, {"box":"r4_10", "result":""}]
    var f4_posBox = [{"box":"p4_1", "result":"4"}, {"box":"p4_2", "result":""}, {"box":"p4_3", "result":""}, {"box":"p4_4", "result":""}, {"box":"p4_5", "result":""}, {"box":"p4_6", "result":""}, {"box":"p4_7", "result":""}, {"box":"p4_8", "result":""}, {"box":"p4_9", "result": ""}, {"box":"p4_10", "result":""}]

    var f5_resultBox = [{"box":"r5_1", "result":""}, {"box":"r5_2", "result":""}, {"box":"r5_3", "result":""}, {"box":"r5_4", "result":""}, {"box":"r5_5", "result":""}, {"box":"r5_6", "result":""}, {"box":"r5_7", "result":""}, {"box":"r5_8", "result":""}, {"box":"r5_9", "result": ""}, {"box":"r5_10", "result":""}]
    var f5_posBox = [{"box":"p5_1", "result":"4"}, {"box":"p5_2", "result":""}, {"box":"p5_3", "result":""}, {"box":"p5_4", "result":""}, {"box":"p5_5", "result":""}, {"box":"p5_6", "result":""}, {"box":"p5_7", "result":""}, {"box":"p5_8", "result":""}, {"box":"p5_9", "result": ""}, {"box":"p5_10", "result":""}]

    var f6_resultBox = [{"box":"r6_1", "result":"0"}, {"box":"r6_2", "result":"0"}, {"box":"r6_3", "result":"0"}, {"box":"r6_4", "result":"0"}, {"box":"r6_5", "result":"0"}, {"box":"r6_6", "result":"0"}, {"box":"r6_7", "result":"0"}, {"box":"r6_8", "result":"0"}, {"box":"r6_9", "result": "0"}, {"box":"r6_10", "result":"0"}]

    var f7_resultBox = [{"box":"r7_1", "result":"0"}, {"box":"r7_2", "result":"0"}, {"box":"r7_3", "result":"0"}, {"box":"r7_4", "result":"0"}, {"box":"r7_5", "result":"0"}, {"box":"r7_6", "result":"0"}, {"box":"r7_7", "result":"0"}, {"box":"r7_8", "result":"0"}, {"box":"r7_9", "result": "0"}, {"box":"r7_10", "result":"0"}, {"box":"r7_11", "result":"0"}, {"box":"r7_12", "result":"0"}, {"box":"r7_13", "result":"0"}, {"box":"r7_14", "result":"0"}, {"box":"r7_15", "result":"0"}, {"box":"r7_16", "result":"0"}, {"box":"r7_17", "result":"0"}, {"box":"r7_18", "result":"0"}, {"box":"r7_19", "result": "0"}, {"box":"r7_20", "result":"0"}]

    var f8_resultBox = [{"box":"r8_1", "result":"0"}, {"box":"r8_2", "result":"0"}, {"box":"r8_3", "result":"0"}, {"box":"r8_4", "result":"0"}, {"box":"r8_5", "result":"0"}, {"box":"r8_6", "result":"0"}, {"box":"r8_7", "result":"0"}, {"box":"r8_8", "result":"0"}, {"box":"r8_9", "result": "0"}, {"box":"r8_10", "result":"0"}, {"box":"r8_11", "result":"0"}, {"box":"r8_12", "result":"0"}, {"box":"r8_13", "result":"0"}, {"box":"r8_14", "result":"0"}, {"box":"r8_15", "result":"0"}, {"box":"r8_16", "result":"0"}, {"box":"r8_17", "result":"0"}, {"box":"r8_18", "result":"0"}, {"box":"r8_19", "result": "0"}, {"box":"r8_20", "result":"0"}]

    for(var i = 0; i < imageNames.length; i++){
      document.getElementById(imageNames[i]).addEventListener("mouseenter", function(){
        image = this.id;
        showSetup();
      });
    }

    for(var i = 0; i < f1_resultBox.length; i++){
      document.getElementById(f1_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail1();
      });
    }

    for(var i = 0; i < f2_resultBox.length; i++){
      document.getElementById(f2_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail2();
      });
    }

    for(var i = 0; i < f3_resultBox.length; i++){
      document.getElementById(f3_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail3();
      });
    }

    for(var i = 0; i < f4_resultBox.length; i++){
      document.getElementById(f4_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail4();
      });
    }

    for(var i = 0; i < f5_resultBox.length; i++){
      document.getElementById(f5_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail5();
      });
    }

    for(var i = 0; i < f6_resultBox.length; i++){
      document.getElementById(f6_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail6();
      });
    }

    for(var i = 0; i < f7_resultBox.length; i++){
      document.getElementById(f7_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail7();
      });
    }

    for(var i = 0; i < f8_resultBox.length; i++){
      document.getElementById(f8_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail8();
      });
    }

    function showSetup(){
      document.getElementById("examImg").src = "img/exam1/" + image + ".jpg";
    }

    function successFail1(){
      var boxIndex = parseInt(currBox.replace("r1_", "")) - 1;
      var posIndex = boxIndex + 1;
      var nextPos = parseInt(f1_posBox[boxIndex].result);

      if(f1_resultBox[boxIndex].result == ""){
        document.getElementById(currBox).innerHTML = checkMark;
        f1_resultBox[boxIndex].result = 1;
      }

      else if(f1_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f1_resultBox[boxIndex].result = -1;
      }

      else if(f1_resultBox[boxIndex].result == -1){
        document.getElementById(currBox).innerHTML = ""
        f1_resultBox[boxIndex].result = "";
      }

      if(boxIndex < 9){
        if(parseInt(f1_posBox[boxIndex].result) < 7 && parseInt(f1_posBox[boxIndex].result) > 1){
          nextPos = nextPos + parseInt(f1_resultBox[boxIndex].result);
        }
        else if(parseInt(f1_posBox[boxIndex].result) == 7 && parseInt(f1_resultBox[boxIndex].result) < 0){
          nextPos = nextPos + parseInt(f1_resultBox[boxIndex].result);
        }

        else if(parseInt(f1_posBox[boxIndex].result) == 1 && parseInt(f1_resultBox[boxIndex].result) > 0){
          nextPos = nextPos + parseInt(f1_resultBox[boxIndex].result);
        }

        if(isNaN(nextPos)){
          document.getElementById(f1_posBox[posIndex].box).innerHTML = "";
        }
        else{
          f1_posBox[posIndex].result = nextPos;
          document.getElementById(f1_posBox[posIndex].box).innerText = nextPos;
        }
      }
    }

    function calcTotal1(){
      total = 4;
      for(var i = 0; i < f1_resultBox.length; i++){
        total = total + parseInt(f1_resultBox[i].result);
        if(total < 1){
          total = 1;
        }
      }

      if(total < 1){
        total = 1;
      }

      else if(total > 10){
        total = 10;
      }
      drillScores[0] = total;
    }

    function successFail2(){
      var boxIndex = parseInt(currBox.replace("r2_", "")) - 1;
      var posIndex = boxIndex + 1;
      var nextPos = parseInt(f2_posBox[boxIndex].result);

      if(f2_resultBox[boxIndex].result == ""){
        document.getElementById(currBox).innerHTML = checkMark;
        f2_resultBox[boxIndex].result = 1;
      }

      else if(f2_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f2_resultBox[boxIndex].result = -1;
      }

      else if(f2_resultBox[boxIndex].result == -1){
        document.getElementById(currBox).innerHTML = ""
        f2_resultBox[boxIndex].result = "";
      }

      if(boxIndex < 9){
        if(parseInt(f2_posBox[boxIndex].result) < 7 && parseInt(f2_posBox[boxIndex].result) > 1){
          nextPos = nextPos + parseInt(f2_resultBox[boxIndex].result);
        }
        else if(parseInt(f2_posBox[boxIndex].result) == 7 && parseInt(f2_resultBox[boxIndex].result) < 0){
          nextPos = nextPos + parseInt(f2_resultBox[boxIndex].result);
        }

        else if(parseInt(f2_posBox[boxIndex].result) == 1 && parseInt(f2_resultBox[boxIndex].result) > 0){
          nextPos = nextPos + parseInt(f2_resultBox[boxIndex].result);
        }

        if(isNaN(nextPos)){
          document.getElementById(f2_posBox[posIndex].box).innerHTML = "";
        }
        else{
          f2_posBox[posIndex].result = nextPos;
          document.getElementById(f2_posBox[posIndex].box).innerText = nextPos;
        }
      }
    }

    function calcTotal2(){
      total = 4;
      for(var i = 0; i < f2_resultBox.length; i++){
        total = total + parseInt(f2_resultBox[i].result);
        if(total < 1){
          total = 1;
        }
      }

      if(total < 1){
        total = 1;
      }

      else if(total > 10){
        total = 10;
      }
      drillScores[1] = total;
    }

    function successFail3(){
      var boxIndex = parseInt(currBox.replace("r3_", "")) - 1;
      var posIndex = boxIndex + 1;
      var nextPos = parseInt(f3_posBox[boxIndex].result);

      if(f3_resultBox[boxIndex].result == ""){
        document.getElementById(currBox).innerHTML = checkMark;
        f3_resultBox[boxIndex].result = 1;
      }

      else if(f3_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f3_resultBox[boxIndex].result = -1;
      }

      else if(f3_resultBox[boxIndex].result == -1){
        document.getElementById(currBox).innerHTML = ""
        f3_resultBox[boxIndex].result = "";
      }

      if(boxIndex < 9){
        if(parseInt(f3_posBox[boxIndex].result) < 7 && parseInt(f3_posBox[boxIndex].result) > 1){
          nextPos = nextPos + parseInt(f3_resultBox[boxIndex].result);
        }
        else if(parseInt(f3_posBox[boxIndex].result) == 7 && parseInt(f3_resultBox[boxIndex].result) < 0){
          nextPos = nextPos + parseInt(f3_resultBox[boxIndex].result);
        }

        else if(parseInt(f3_posBox[boxIndex].result) == 1 && parseInt(f3_resultBox[boxIndex].result) > 0){
          nextPos = nextPos + parseInt(f3_resultBox[boxIndex].result);
        }

        if(isNaN(nextPos)){
          document.getElementById(f3_posBox[posIndex].box).innerHTML = "";
        }
        else{
          f3_posBox[posIndex].result = nextPos;
          document.getElementById(f3_posBox[posIndex].box).innerText = nextPos;
        }
      }
    }

    function calcTotal3(){
      total = 4;
      for(var i = 0; i < f3_resultBox.length; i++){
        total = total + parseInt(f3_resultBox[i].result);
        if(total < 1){
          total = 1;
        }
      }

      if(total < 1){
        total = 1;
      }

      else if(total > 10){
        total = 10;
      }
      drillScores[2] = total;
    }

    function successFail4(){
      var boxIndex = parseInt(currBox.replace("r4_", "")) - 1;
      var posIndex = boxIndex + 1;
      var nextPos = parseInt(f4_posBox[boxIndex].result);

      if(f4_resultBox[boxIndex].result == ""){
        document.getElementById(currBox).innerHTML = checkMark;
        f4_resultBox[boxIndex].result = 1;
      }

      else if(f4_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f4_resultBox[boxIndex].result = -1;
      }

      else if(f4_resultBox[boxIndex].result == -1){
        document.getElementById(currBox).innerHTML = ""
        f4_resultBox[boxIndex].result = "";
      }

      if(boxIndex < 9){
        if(parseInt(f4_posBox[boxIndex].result) < 7 && parseInt(f4_posBox[boxIndex].result) > 1){
          nextPos = nextPos + parseInt(f4_resultBox[boxIndex].result);
        }
        else if(parseInt(f4_posBox[boxIndex].result) == 7 && parseInt(f4_resultBox[boxIndex].result) < 0){
          nextPos = nextPos + parseInt(f4_resultBox[boxIndex].result);
        }

        else if(parseInt(f4_posBox[boxIndex].result) == 1 && parseInt(f4_resultBox[boxIndex].result) > 0){
          nextPos = nextPos + parseInt(f4_resultBox[boxIndex].result);
        }

        if(isNaN(nextPos)){
          document.getElementById(f4_posBox[posIndex].box).innerHTML = "";
        }
        else{
          f4_posBox[posIndex].result = nextPos;
          document.getElementById(f4_posBox[posIndex].box).innerText = nextPos;
        }
      }
    }

    function calcTotal4(){
      total = 4;
      for(var i = 0; i < f4_resultBox.length; i++){
        total = total + parseInt(f4_resultBox[i].result);
        if(total < 1){
          total = 1;
        }
      }

      if(total < 1){
        total = 1;
      }

      else if(total > 10){
        total = 10;
      }
      drillScores[3] = total;
    }

    function successFail5(){
      var boxIndex = parseInt(currBox.replace("r5_", "")) - 1;
      var posIndex = boxIndex + 1;
      var nextPos = parseInt(f5_posBox[boxIndex].result);

      if(f5_resultBox[boxIndex].result == ""){
        document.getElementById(currBox).innerHTML = checkMark;
        f5_resultBox[boxIndex].result = 1;
      }

      else if(f5_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f5_resultBox[boxIndex].result = -1;
      }

      else if(f5_resultBox[boxIndex].result == -1){
        document.getElementById(currBox).innerHTML = ""
        f5_resultBox[boxIndex].result = "";
      }

      if(boxIndex < 9){
        if(parseInt(f5_posBox[boxIndex].result) < 7 && parseInt(f5_posBox[boxIndex].result) > 1){
          nextPos = nextPos + parseInt(f5_resultBox[boxIndex].result);
        }
        else if(parseInt(f5_posBox[boxIndex].result) == 7 && parseInt(f5_resultBox[boxIndex].result) < 0){
          nextPos = nextPos + parseInt(f5_resultBox[boxIndex].result);
        }

        else if(parseInt(f5_posBox[boxIndex].result) == 1 && parseInt(f5_resultBox[boxIndex].result) > 0){
          nextPos = nextPos + parseInt(f5_resultBox[boxIndex].result);
        }

        if(isNaN(nextPos)){
          document.getElementById(f5_posBox[posIndex].box).innerHTML = "";
        }
        else{
          f5_posBox[posIndex].result = nextPos;
          document.getElementById(f5_posBox[posIndex].box).innerText = nextPos;
        }
      }
    }

    function calcTotal5(){
      total = 4;
      for(var i = 0; i < f5_resultBox.length; i++){
        total = total + parseInt(f5_resultBox[i].result);
        if(total < 1){
          total = 1;
        }
      }

      if(total < 1){
        total = 1;
      }

      else if(total > 10){
        total = 10;
      }
      drillScores[4] = total;
    }

    function successFail6(){
      var boxIndex = parseInt(currBox.replace("r6_", "")) - 1;

      if(f6_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        f6_resultBox[boxIndex].result = 1;
      }

      else if(f6_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f6_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal6(){
      total = 0;

      for(var i = 0; i < f6_resultBox.length; i++){
        total = total + parseInt(f6_resultBox[i].result);
      }

      drillScores[5] = total;
    }

    function successFail7(){
      var boxIndex = parseInt(currBox.replace("r7_", "")) - 1;

      if(f7_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        f7_resultBox[boxIndex].result = 1;
      }

      else if(f7_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f7_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal7(){
      total = 0;

      for(var i = 0; i < f7_resultBox.length; i++){
        total = total + parseInt(f7_resultBox[i].result);
      }

      drillScores[6] = total;
    }

    function successFail8(){
      var boxIndex = parseInt(currBox.replace("r8_", "")) - 1;

      if(f8_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        f8_resultBox[boxIndex].result = 1;
      }

      else if(f8_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        f8_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal8(){
      total = 0;

      for(var i = 0; i < f8_resultBox.length; i++){
        total = total + parseInt(f8_resultBox[i].result);
      }

      drillScores[7] = total;
    }

////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////

    var nameCheck = false;
    var pinCheck = false;


    function sendExam(){
      calcTotal1();
      calcTotal2();
      calcTotal3();
      calcTotal4();
      calcTotal5();
      calcTotal6();
      calcTotal7();
      calcTotal8();

      if(isNaN(drillScores[0])){
        drillScores[0] = 0;
      }

      if(isNaN(drillScores[1])){
        drillScores[1] = 0;
      }

      if(isNaN(drillScores[2])){
        drillScores[2] = 0;
      }

      if(isNaN(drillScores[3])){
        drillScores[3] = 0;
      }

      if(isNaN(drillScores[4])){
        drillScores[4] = 0;
      }


      var xmlhttp = new XMLHttpRequest();
      //xmlhttp.addEventListener("load", reqListener);
      xmlhttp.open("POST", "/submitExam", true);
      xmlhttp.send('scores='+drillScores+'&user='+user +'&exam='+1);

        // xmlhttp.addEventListener("load", reqListener);
      setTimeout(function(){
        setUser()
      }, 1000)
    }



    function submitExam(){
 
      setCheckUsername()

      setTimeout(function(){
        nameCheck = getUsername()
      }, 500)

      setTimeout(function(){
        if(nameCheck == true){
          setCheckPin()

          setTimeout(function(){
            pinCheck = getPin()
          }, 1500)
        }
      }, 1000)

      setTimeout(function(){
        console.log(nameCheck)
        console.log(pinCheck)

        if(nameCheck == true && pinCheck == true){
          sendExam()
        }
        else{
          //error messages
          console.log("errors")
          var error = document.getElementById("errorMessage")
          error.style.display = 'block'

          if(nameCheck == false){
            console.log("username does not exist");
            error.innerHTML = '<div class="alert alert-danger"><strong>Error!</strong> The Username used does not exist. Please make sure it is input correctly or create a new account.</div>'
          }
          else if(pinCheck == false){
            console.log("Pin is incorrect")
            error.innerHTML = '<div class="alert alert-danger"><strong>Error!</strong> Incorrect Pin for this Username.</div>'
          }

          fade(error);
        }
      },2500)
    }

    function nameUpdate(){
      user = document.getElementById("username").value
      if(user == ""){
        document.getElementById("headingText").innerHTML = "Billiards Exam - Fundamentals"
      }
      else {
        document.getElementById("headingText").innerHTML = "Billiards Exam - Fundamentals: <i>" + user + "</i>";
      }
    }


    function setUser() {


      function reqListener () {
        window.location.href = "profiles.html";
      }

      var oReq = new XMLHttpRequest();

      oReq.addEventListener("load", reqListener);
      oReq.open("POST", "/setUser", true);
      oReq.send('username='+user);

    }


    function getPin(){
      function reqListener () {
        var u = JSON.parse(this.responseText)
        console.log( u )
        pinCheck = u[0].pin
      }
      
      var oReq = new XMLHttpRequest();
      
      oReq.addEventListener("load", reqListener);
      oReq.open("GET", "/getPin");
      oReq.send();
    }

    function setCheckPin(){
      
      function reqListener () {
        
      }
      
      var oReq = new XMLHttpRequest();
      
      console.log("pin check")
      var pin = document.getElementById("pin").value;

      oReq.addEventListener("load", reqListener);
      oReq.open("POST", "/setCheckPin", true);
      oReq.send('username='+user+'&pin='+pin);

    }


    function getUsername(){
      function reqListener () {
        var u = JSON.parse(this.responseText)
        console.log( u )
        nameCheck = u[0].username
      }
      
      var oReq = new XMLHttpRequest();
      
      oReq.addEventListener("load", reqListener);
      oReq.open("GET", "/getUsername");
      oReq.send();
    }

    function setCheckUsername(){
      
      function reqListener () {
        
      }
      
      var oReq = new XMLHttpRequest();
      
      console.log("username check")
      oReq.addEventListener("load", reqListener);
      oReq.open("POST", "/setCheckUsername", true);
      oReq.send('username='+user);

    }

    function fade(element) {
      var op = 1;  // initial opacity
      var timer = setInterval(function () {
        if (op <= 0.3){
          clearInterval(timer);
          element.style.display = 'none';
        }
        element.style.opacity = op;
        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
        op -= op * 0.01;
      }, 50);
    }

    function checkSubmit(){
      var pinLen = document.getElementById('pin').value.length
      if(pinLen == 4){
        document.getElementById('confButton').disabled = false
      }
      else {
        document.getElementById('confButton').disabled = true
      }
    }

////////////////////////////////////////////////////////////////////////////////////////////

  </script>
</html>
