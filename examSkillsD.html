 <html>
  <head>
    <title>CSC Billiard Analytics - Exam II</title>
    <link rel="shortcut icon" type="image/x-icon" href="img/home/favicon.ico" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Verdana" rel="stylesheet">
    <link id="css" rel="stylesheet" type="text/css" href="style.css"/>

    <style>
      .btn {width: 100%;}

      .table {table-layout: fixed}

      h1 {color: white;}

      #main {margin-left: 15px;}

      .drill {width: 15%;}

      #rightSide {right: 0;}

      .affix {top: 20;}

      td, th {text-align: center;}

      .modButton {width: 45%; display: inline-block; float: left;}

      .ldt {width: 20%;}

      .well {
        box-shadow: 6px 6px 2px black;
      }
    </style>

  </head>
  <body>

    <div>
      <div class="page-header">
        <h1 id="headingText">Billiards Exam - Skills (Doctorate)</h1>
      </div>
    </div>

    <div id="main">

      <div class="row">
        <div class="col-sm-3">
          <form action="examSubmit" method="POST" onsubmit="return false">
            <input id="username" type="text" name="title" class="form-control" placeholder="Username" onkeyup="nameUpdate()" onblur="nameUpdate()"/>
            <button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#alertModal">Submit Exam</button>
          </form>
        </div>
      </div>
s
      <div id="alertModal" class="modal fade" role="dialog">
          <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Confirm Submit</h4>
              </div>
              <div class="modal-body">
                <p>Are you sure you want to submit the exam?</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-warning modButton" data-dismiss="modal"><b>No</b>, not yet!</button>
                <button type="button" class="btn btn-success modButton" data-dismiss="modal" onclick="submitExam()"><b>Yes</b>, submit the exam.</button>
              </div>
            </div>

          </div>
        </div>

      <div class="row">
        <div class="col-sm-12">
          <p></p>
        </div>
      </div>

      <div id="header" class="row">
        <div class="col-sm-7"> <!-- Exam Table -->
          <div id="sd1" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S1-Line</th>
                    <td>
                       <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Attempt</th>
                            <th>1</th>
                            <th>2</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Balls Pocketed</th>
                            <td id="r1_1">0</td>
                            <td id="r1_2">0</td>

                          </tr>

                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd2" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S2-Rail Cut</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Attempt</th>
                            <th>1</th>
                            <th>2</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Balls Pocketed</th>
                            <td id="r2_1">0</td>
                            <td id="r2_2">0</td>

                          </tr>

                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd3" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S3-9 Ball</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Layout</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Balls Pocketed</th>
                            <td id="r3_1">0</td>
                            <td id="r3_2">0</td>
                            <td id="r3_3">0</td>

                          </tr>
                        </tbody>
                      </table>
                      *Click the image to cycle through the layouts
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd6" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S4-8 Ball</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Layout</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Balls Pocketed</th>
                            <td id="r4_1">0</td>
                            <td id="r4_2">0</td>
                            <td id="r4_3">0</td>

                          </tr>
                        </tbody>
                      </table>
                      *Click the image to cycle through the layouts
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd9" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S5-Safety</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th colspan="2">1</th>
                            <th colspan="2">2</th>
                            <th colspan="2">3</th>
                            <th colspan="2">4</th>
                            <th colspan="2">5</th>
                            <th colspan="2">6</th>
                            <th colspan="2">7</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r5_1"></td>
                            <td id="r5_2"></td>
                            <td id="r5_3"></td>
                            <td id="r5_4"></td>
                            <td id="r5_5"></td>
                            <td id="r5_6"></td>
                            <td id="r5_7"></td>
                            <td id="r5_8"></td>
                            <td id="r5_9"></td>
                            <td id="r5_10"></td>
                            <td id="r5_11"></td>
                            <td id="r5_12"></td>
                            <td id="r5_13"></td>
                            <td id="r5_14"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd10" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S6-Kicks</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r6_1"></td>
                            <td id="r6_2"></td>
                            <td id="r6_3"></td>
                            <td id="r6_4"></td>
                            <td id="r6_5"></td>
                            <td id="r6_6"></td>
                            <td id="r6_7"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd11" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S7-Banks</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r7_1"></td>
                            <td id="r7_2"></td>
                            <td id="r7_3"></td>
                            <td id="r7_4"></td>
                            <td id="r7_5"></td>
                            <td id="r7_6"></td>
                            <td id="r7_7"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd12" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S8-Elevated Cue</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r8_1"></td>
                            <td id="r8_2"></td>
                            <td id="r8_3"></td>
                            <td id="r8_4"></td>
                            <td id="r8_5"></td>
                            <td id="r8_6"></td>
                            <td id="r8_7"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd13" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S9-Jump/Mass&eacute</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Shot</th>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                            <th>4</th>
                            <th>5</th>
                            <th>6</th>
                            <th>7</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r9_1"></td>
                            <td id="r9_2"></td>
                            <td id="r9_3"></td>
                            <td id="r9_4"></td>
                            <td id="r9_5"></td>
                            <td id="r9_6"></td>
                            <td id="r9_7"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div id="sd14" class="row scoreTable well">
            <div class="col-sm-12">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="drill">Drill</th>
                    <th>Results</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>S10-Breaks</th>
                    <td>
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="ldt">Attempt</th>
                            <th colspan="5">1</th>
                            <th colspan="5">2</th>
                            <th colspan="5">3</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th class="ldt">Criteria</th>
                            <td>a</td>
                            <td>b</td>
                            <td>c</td>
                            <td>d</td>
                            <td>e</td>
                            <td>a</td>
                            <td>b</td>
                            <td>c</td>
                            <td>d</td>
                            <td>e</td>
                            <td>a</td>
                            <td>b</td>
                            <td>c</td>
                            <td>d</td>
                            <td>e</td>
                          </tr>
                          <tr>
                            <th class="ldt">Result</th>
                            <td id="r10_1"></td>
                            <td id="r10_2"></td>
                            <td id="r10_3"></td>
                            <td id="r10_4"></td>
                            <td id="r10_5"></td>
                            <td id="r10_6"></td>
                            <td id="r10_7"></td>
                            <td id="r10_8"></td>
                            <td id="r10_9"></td>
                            <td id="r10_10"></td>
                            <td id="r10_11"></td>
                            <td id="r10_12"></td>
                            <td id="r10_13"></td>
                            <td id="r10_14"></td>
                            <td id="r10_15"></td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>
        <div id="rightSide" class="col-sm-5 text-center" data-spy="affix" data-offset-top="170">
          <!-- Exam Setup Image -->
          <img id="examImg" src="img/exam_2d/sd1.jpg" class="img-rounded examImages" alt="Exam Setup Image" height="95%" onclick="toggleImg()">
        </div>
      </div>
    </div>


  </body>
  <script>
    var imageNames = ["sd1", "sd2", "sd3", "sd4", "sd5", "sd6", "sd7", "sd8", "sd9", "sd10", "sd11", "sd12", "sd13", "sd14"]
    var image = "sd1"
    var toggleS3 = 2;
    var toggleS4 = 5;

    var checkMark = "&#10004"
    var xMark = "&#10006"

    var currBox = ""
    var total = 4
    var user = ""
    var drillScores = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

    var s1_resultBox = [{"box":"r1_1", "result":"0"}, {"box":"r1_2", "result":"0"}]

    var s2_resultBox = [{"box":"r2_1", "result":"0"}, {"box":"r2_2", "result":"0"}]

    var s3_resultBox = [{"box":"r3_1", "result":"0"}, {"box":"r3_2", "result":"0"}, {"box":"r3_3", "result":"0"}]

    var s4_resultBox = [{"box":"r4_1", "result":"0"}, {"box":"r4_2", "result":"0"}, {"box":"r4_3", "result":"0"}]

    var s5_resultBox = [{"box":"r5_1", "result":"0"}, {"box":"r5_2", "result":"0"}, {"box":"r5_3", "result":"0"}, {"box":"r5_4", "result":"0"}, {"box":"r5_5", "result":"0"}, {"box":"r5_6", "result":"0"}, {"box":"r5_7", "result":"0"}, {"box":"r5_8", "result":"0"}, {"box":"r5_9", "result":"0"}, {"box":"r5_10", "result":"0"}, {"box":"r5_11", "result":"0"}, {"box":"r5_12", "result":"0"}, {"box":"r5_13", "result":"0"}, {"box":"r5_14", "result":"0"}]

    var s6_resultBox = [{"box":"r6_1", "result":"0"}, {"box":"r6_2", "result":"0"}, {"box":"r6_3", "result":"0"}, {"box":"r6_4", "result":"0"}, {"box":"r6_5", "result":"0"}, {"box":"r6_6", "result":"0"}, {"box":"r6_7", "result":"0"}]

    var s7_resultBox = [{"box":"r7_1", "result":"0"}, {"box":"r7_2", "result":"0"}, {"box":"r7_3", "result":"0"}, {"box":"r7_4", "result":"0"}, {"box":"r7_5", "result":"0"}, {"box":"r7_6", "result":"0"}, {"box":"r7_7", "result":"0"}]

    var s8_resultBox = [{"box":"r8_1", "result":"0"}, {"box":"r8_2", "result":"0"}, {"box":"r8_3", "result":"0"}, {"box":"r8_4", "result":"0"}, {"box":"r8_5", "result":"0"}, {"box":"r8_6", "result":"0"}, {"box":"r8_7", "result":"0"}]

    var s9_resultBox = [{"box":"r9_1", "result":"0"}, {"box":"r9_2", "result":"0"}, {"box":"r9_3", "result":"0"}, {"box":"r9_4", "result":"0"}, {"box":"r9_5", "result":"0"}, {"box":"r9_6", "result":"0"}, {"box":"r9_7", "result":"0"}]

    var s10_resultBox = [{"box":"r10_1", "result":"0"}, {"box":"r10_2", "result":"0"}, {"box":"r10_3", "result":"0"}, {"box":"r10_4", "result":"0"}, {"box":"r10_5", "result":"0"}, {"box":"r10_6", "result":"0"}, {"box":"r10_7", "result":"0"}, {"box":"r10_8", "result":"0"}, {"box":"r10_9", "result":"0"}, {"box":"r10_10", "result":"0"}, {"box":"r10_11", "result":"0"}, {"box":"r10_12", "result":"0"}, {"box":"r10_13", "result":"0"}, {"box":"r10_14", "result":"0"}, {"box":"r10_15", "result":"0"}]

    document.getElementById("rightSide").addEventListener("click", toggleImg());

    for(var i = 0; i < imageNames.length; i++){
      if((i > 2 && i < 5) || (i > 5 && i < 8)){

      }

      else {
        document.getElementById(imageNames[i]).addEventListener("mouseenter", function(){
          image = this.id;
          if(image == "sd3" || image == "sd4" || image == "sd5"){
            image = imageNames[toggleS3];
          }
          else if(image == "sd6" || image == "sd7" || image == "sd8"){
            image = imageNames[toggleS4];
          }
          showSetup();
        });
      }
    }

    for(var i = 0; i < s1_resultBox.length; i++){
      document.getElementById(s1_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail1();
      });
    }

    for(var i = 0; i < s2_resultBox.length; i++){
      document.getElementById(s2_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail2();
      });
    }

    for(var i = 0; i < s3_resultBox.length; i++){
      document.getElementById(s3_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail3();
      });
    }

    for(var i = 0; i < s4_resultBox.length; i++){
      document.getElementById(s4_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail4();
      });
    }

    for(var i = 0; i < s5_resultBox.length; i++){
      document.getElementById(s5_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail5();
      });
    }

    for(var i = 0; i < s6_resultBox.length; i++){
      document.getElementById(s6_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail6();
      });
    }

    for(var i = 0; i < s7_resultBox.length; i++){
      document.getElementById(s7_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail7();
      });
    }

    for(var i = 0; i < s8_resultBox.length; i++){
      document.getElementById(s8_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail8();
      });
    }

    for(var i = 0; i < s9_resultBox.length; i++){
      document.getElementById(s9_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail9();
      });
    }

    for(var i = 0; i < s10_resultBox.length; i++){
      document.getElementById(s10_resultBox[i].box).addEventListener("click", function(){
        currBox = this.id;
        successFail10();
      });
    }

    function successFail1(){
      var boxIndex = parseInt(currBox.replace("r1_", "")) - 1;
      var score = parseInt(s1_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 10){
        score = 0;
      }
      s1_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal1();
    }

    function calcTotal1(){
      total = 0;
      attempt1 = parseInt(s1_resultBox[0].result);
      attempt2 = parseInt(s1_resultBox[1].result)

      if(attempt1 > attempt2){
        total = attempt1;
      }

      else {
        total = attempt2;
      }
      drillScores[0] = total;
    }

    function successFail2(){
      var boxIndex = parseInt(currBox.replace("r2_", "")) - 1;
      var score = parseInt(s2_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 15){
        score = 0;
      }
      s2_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal2();
    }

    function calcTotal2(){
      total = 0;
      attempt1 = parseInt(s2_resultBox[0].result);
      attempt2 = parseInt(s2_resultBox[1].result)

      if(attempt1 > attempt2){
        total = attempt1;
      }

      else {
        total = attempt2;
      }
      drillScores[1] = total;
    }

    function successFail3(){
      var boxIndex = parseInt(currBox.replace("r3_", "")) - 1;
      var score = parseInt(s3_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 7){
        score = 0;
      }
      s3_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal3();
    }

    function calcTotal3(){
      total = 0;
      layout1 = parseInt(s3_resultBox[0].result);
      layout2 = parseInt(s3_resultBox[1].result);
      layout3 = parseInt(s3_resultBox[2].result);

      if(layout1 < layout2){
        total = total + layout1
        if(layout2 < layout3){
          total = total + layout2
        }
        else{
          total = total + layout3
        }
      }

      else {
        total = total + layout2
        if(layout1 < layout3){
          total = total + layout1
        }
        else{
          total = total + layout3
        }
      }

      drillScores[2] = total;
      console.log(drillScores[2]);
    }

    function successFail4(){
      var boxIndex = parseInt(currBox.replace("r4_", "")) - 1;
      var score = parseInt(s4_resultBox[boxIndex].result)

      score = score + 1;

      if(score > 7){
        score = 0;
      }
      s4_resultBox[boxIndex].result = score;
      document.getElementById(currBox).innerHTML = score;
      calcTotal4();
    }

    function calcTotal4(){
      total = 0;
      layout1 = parseInt(s4_resultBox[0].result);
      layout2 = parseInt(s4_resultBox[1].result);
      layout3 = parseInt(s4_resultBox[2].result);

      if(layout1 < layout2){
        total = total + layout1
        if(layout2 < layout3){
          total = total + layout2
        }
        else{
          total = total + layout3
        }
      }

      else {
        total = total + layout2
        if(layout1 < layout3){
          total = total + layout1
        }
        else{
          total = total + layout3
        }
      }

      drillScores[3] = total;
      console.log(drillScores[3]);
    }

    function successFail5(){
      var boxIndex = parseInt(currBox.replace("r5_", "")) - 1;

      if(s5_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        s5_resultBox[boxIndex].result = 1;
      }

      else if(s5_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        s5_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal5(){
      total = 0;

      for(var i = 0; i < s5_resultBox.length; i++){
        total = total + parseInt(s5_resultBox[i].result);
      }

      drillScores[4] = total;
    }

    function successFail6(){
      var boxIndex = parseInt(currBox.replace("r6_", "")) - 1;

      if(s6_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        s6_resultBox[boxIndex].result = 1;
      }

      else if(s6_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        s6_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal6(){
      total = 0;

      for(var i = 0; i < s6_resultBox.length; i++){
        total = total + parseInt(s6_resultBox[i].result);
      }

      drillScores[5] = total;
    }

    function successFail7(){
      var boxIndex = parseInt(currBox.replace("r7_", "")) - 1;

      if(s7_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        s7_resultBox[boxIndex].result = 1;
      }

      else if(s7_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        s7_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal7(){
      total = 0;

      for(var i = 0; i < s7_resultBox.length; i++){
        total = total + parseInt(s7_resultBox[i].result);
      }

      drillScores[6] = total;
    }

    function successFail8(){
      var boxIndex = parseInt(currBox.replace("r8_", "")) - 1;

      if(s8_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        s8_resultBox[boxIndex].result = 1;
      }

      else if(s8_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        s8_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal8(){
      total = 0;

      for(var i = 0; i < s8_resultBox.length; i++){
        total = total + parseInt(s8_resultBox[i].result);
      }

      drillScores[7] = total;
    }

    function successFail9(){
      var boxIndex = parseInt(currBox.replace("r9_", "")) - 1;

      if(s9_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        s9_resultBox[boxIndex].result = 1;
      }

      else if(s9_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        s9_resultBox[boxIndex].result = 0;
      }
    }

    function calcTotal9(){
      total = 0;

      for(var i = 0; i < s9_resultBox.length; i++){
        total = total + parseInt(s9_resultBox[i].result);
      }

      drillScores[8] = total;
    }

    function successFail10(){
      var boxIndex = parseInt(currBox.replace("r10_", "")) - 1;

      if(s10_resultBox[boxIndex].result == "0"){
        document.getElementById(currBox).innerHTML = checkMark;
        s10_resultBox[boxIndex].result = 1;
      }

      else if(s10_resultBox[boxIndex].result == 1){
        document.getElementById(currBox).innerHTML = xMark;
        s10_resultBox[boxIndex].result = 0;
      }

      calcTotal10();
    }

    function calcTotal10(){
      total = 0;
      var total1 = 0;
      var total2 = 0;
      var total3 = 0;
      var p = 0;

      for(var i = 0; i < s10_resultBox.length; i++){
        if(i < 5){
        total1 = total1 + parseInt(s10_resultBox[i].result);
        }
        if(i >=5 && i < 10){
        total2 = total2 + parseInt(s10_resultBox[i].result);
        }
        if(i >= 10 && i < 15){
        total3 = total3 + parseInt(s10_resultBox[i].result);
        }
      }

      if(total1 >= total2){
        p = total1;
        total1 = total2;
        total2 = p;

        if(total1 >= total3){
          p = total1;
          total1 = total3;
          total3 = p;
        }

      }

      else if(total1 >= total3){
          p = total1;
          total1 = total3;
          total3 = p;
      }

      if(total2 >= total3){
        total = total3;
      }

      else {
        total = total2;
      }

      drillScores[9] = total;


      console.log(drillScores[9]);
    }

    function submitExam(){
      calcTotal1();
      calcTotal2();
      calcTotal3();
      calcTotal4();
      calcTotal5();
      calcTotal6();
      calcTotal7();
      calcTotal8();
      calcTotal9();
      calcTotal10();

      var xmlhttp = new XMLHttpRequest();
      // xmlhttp.addEventListener("load", reqListener);
      xmlhttp.open("POST", "/submitExam", true);
      xmlhttp.send('scores='+drillScores+'&user='+user+'&exam='+4);

      setTimeout(function(){
        setUser()
      }, 1000)

    }

    function nameUpdate(){
      user = document.getElementById("username").value
      if(user == ""){
        document.getElementById("headingText").innerHTML = "Billiards Exam - Skills (Doctorate)"
      }
      else {
        document.getElementById("headingText").innerHTML = "Billiards Exam - Skills (Doctorate): <i>" + user + "</i>";
      }
    }

    function showSetup(){
      document.getElementById("examImg").src = "img/exam_2d/" + image + ".jpg";
    }

    function toggleImg(){
      if(image == "sd3" || image == "sd4" || image == "sd5"){
        toggleS3 = toggleS3 + 1;
        if(toggleS3 > 4){
          toggleS3 = 2;
        }
        image = imageNames[toggleS3]
      }
      else if(image == "sd6" || image == "sd7" || image == "sd8"){
        toggleS4 = toggleS4 + 1;
        if(toggleS4 > 7){
          toggleS4 = 5;
        }
        image = imageNames[toggleS4]
      }
      showSetup();
    }


    function setUser() {


      function reqListener () {
        window.location.href = "profiles.html";
      }

      var oReq = new XMLHttpRequest();

      oReq.addEventListener("load", reqListener);
      oReq.open("POST", "/setUser", true);
      oReq.send('username='+user);

    }

  </script>
</html>
